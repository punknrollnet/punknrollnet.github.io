"use strict";function onYouTubeIframeAPIReady(){youtube=new YT.Player("video",{controls:0,height:.66*bbox.width,events:{onReady:player.ready,onStateChange:player.stateChange},playerVars:{autoplay:0,playlist:player.video_ids.join(","),wmode:"transparent"},width:bbox.width})}function parseUrl(e){var t=document.createElement("a");return t.href=e,t}function parseQuery(e){return e.search.replace("?","").split("&amp;").reduce(function(e,t){var o=t.split("=");return e[o[0]]=o[1],e},{})}var bbox=document.getElementById("player").getBoundingClientRect(),info=document.getElementById("video-info"),youtube=void 0,player=new Vue({el:"#player",data:{info:!1,title:"",video_ids:[]},ready:function(){this.getVideos()},methods:{createIframe:function(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},getVideos:function(){var e=this;this.$http({url:"https://www.reddit.com/r/punk/search.json",method:"GET",data:{q:"url:youtube.com/watch",sort:"new",restrict_sr:"on",t:"all"}}).then(function(t){var o=!0,r=!1,a=void 0;try{for(var n,i=t.data.data.children[Symbol.iterator]();!(o=(n=i.next()).done);o=!0){var u=n.value,d=parseQuery(parseUrl(u.data.url));d.v&&e.video_ids.push(d.v)}}catch(l){r=!0,a=l}finally{try{!o&&i["return"]&&i["return"]()}finally{if(r)throw a}}player.createIframe()})},next:function(e){youtube.nextVideo()},pause:function(e){youtube.pauseVideo()},play:function(e){player.info=!0,youtube.playVideo()},previous:function(e){youtube.previousVideo()},ready:function(e){},stateChange:function(e){console.log(e),player.title=youtube.getVideoData().title},stop:function(e){player.info=!1,youtube.stopVideo()}}});